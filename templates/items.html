{% extends 'components/_base.html' %}
{% block title %}Items{% endblock %}
{% block content %}

<div class="container">
    <h1>Wynncraft Items</h1>
    <ul class="list-group">
        {% for item_name, item_details in items.items() %}
            <li class="list-group-item">
                <h2>{{ item_name }}</h2>
                <p><strong>Material:</strong> {{ item_details.material }}</p>
                <p><strong>Tier:</strong> {{ item_details.tier }}</p>
                <p><strong>Identified:</strong> {{ item_details.identified }}</p>
                <p><strong>Drop Restriction:</strong> {{ item_details.dropRestriction }}</p>
                <p><strong>Restrictions:</strong> {{ item_details.restrictions }}</p>
                <p><strong>Accessory Type:</strong> {{ item_details.accessoryType }}</p>
                <p><strong>Internal Name:</strong> {{ item_details.internalName }}</p>
                <p><strong>Requirements:</strong>
                    <ul>
                        {% for req, value in item_details.requirements.items() %}
                            <li>{{ req }}: {{ value }}</li>
                        {% endfor %}
                    </ul>
                </p>
                {% if item_details.identifications is defined and item_details.identifications %}
                <p><strong>Identifications:</strong>
                    <ul>
                        {% for id, details in item_details.identifications.items() %}
                            <li>
                                {{ id }}:
                                {% if details is mapping %}
                                    <ul>
                                        {% for key, value in details.items() %}
                                            <li>{{ key }}: {{ value }}</li>
                                        {% endfor %}
                                    </ul>
                                {% else %}
                                    {{ details }}
                                {% endif %}
                            </li>
                        {% endfor %}
                    </ul>
                </p>
                {% endif %}
                {% if item_details.type %}
                    <p><strong>Type:</strong> {{ item_details.type }}</p>
                {% endif %}
                {% if item_details.lore %}
                    <p><strong>Lore:</strong> {{ item_details.lore }}</p>
                {% endif %}
                {% if item_details.attackSpeed %}
                    <p><strong>Attack Speed:</strong> {{ item_details.attackSpeed }}</p>
                {% endif %}
                {% if item_details.dropMeta %}
                    <p><strong>Drop Meta:</strong>
                        <ul>
                            {% for meta, value in item_details.dropMeta.items() %}
                                <li>{{ meta }}: {{ value }}</li>
                            {% endfor %}
                        </ul>
                    </p>
                {% endif %}
                {% if item_details.base %}
                    <p><strong>Base:</strong>
                        <ul>
                            {% for base_key, base_value in item_details.base.items() %}
                                <li>{{ base_key }}: {{ base_value }}</li>
                            {% endfor %}
                        </ul>
                    </p>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
    <a href="/" class="btn btn-primary mt-3">Back to Home</a>
</div>
{% endblock %}
